

This is a full-stack application that combines a **Flask backend** for image processing and a **React frontend** for user interaction. The application allows users to upload images, analyze their structure, detect objects, and view the results.

---

## Features

### Backend (Flask)
1. **Image Upload**:
   - Accepts image uploads via a POST request.
   - Validates file type and size (16MB limit).

2. **Image Enhancement**:
   - Enhances images using histogram equalization in the LAB color space.

3. **Structure Analysis**:
   - Detects contours and bounding boxes in the image.
   - Counts the number of detected parts.

4. **Object Detection**:
   - Placeholder for object detection (returns predefined objects like "Window", "Door", "Beam").

5. **Static File Serving**:
   - Serves the React frontend as static files.

6. **API Endpoints**:
   - `/upload`: For uploading and processing images.
   - `/results/<filename>`: For retrieving processed images.

### Frontend (React)
1. **Image Upload**:
   - Allows users to upload images via a file input.

2. **Image Preview**:
   - Displays the uploaded image before processing.

3. **Processing Feedback**:
   - Shows a loading spinner during image processing.

4. **Results Display**:
   - Displays the processed image with bounding boxes.
   - Shows the number of detected parts and objects with confidence levels.

5. **Error Handling**:
   - Displays error messages for invalid file types or upload failures.

---

## How to Run the Application

### Prerequisites
1. **Python 3.x**: Install Python from [python.org](https://www.python.org/).
2. **Node.js**: Install Node.js from [nodejs.org](https://nodejs.org/).
3. **pip**: Python package manager (usually comes with Python).
4. **npm**: Node.js package manager (comes with Node.js).

---

### Step 1: Clone the Repository
Clone the repository to your local machine:
```bash
git clone <repository-url>
cd <repository-folder>
```

---

### Step 2: Set Up the Backend
1. Install Python dependencies:
   ```bash
   pip install flask opencv-python numpy
   ```

2. Create the required folders:
   ```bash
   mkdir uploads results
   ```

3. Run the Flask backend:
   ```bash
   python app.py
   ```
   The backend will start at `http://localhost:5000`.

---

### Step 3: Set Up the Frontend
1. Navigate to the React project directory:
   ```bash
   cd <react-folder>
   ```

2. Install npm dependencies:
   ```bash
   npm install
   ```

3. Build the React frontend:
   ```bash
   npm run build
   ```

4. Move the `build` folder to the Flask project directory:
   ```bash
   mv build ../<flask-folder>/
   ```

---

### Step 4: Run the Combined Application
1. Start the Flask backend:
   ```bash
   python app.py
   ```

2. Open your browser and go to `http://localhost:5000`.

---

### Step 5: Use the Application
1. **Upload an Image**:
   - Click the "Choose File" button to select an image.
   - Supported formats: PNG, JPG, JPEG, GIF.
   - File size limit: 16MB.

2. **Analyze the Image**:
   - Click the "Upload & Analyze" button to process the image.

3. **View Results**:
   - The processed image will be displayed with bounding boxes.
   - The number of detected parts and objects will be shown below the image.

---

## Directory Structure
```
project/
│
├── build/                  # React build files (generated by `npm run build`)
│   ├── static/
│   ├── index.html
│   └── ...
│
├── uploads/                # Uploaded images
├── results/                # Processed images
│
├── app.py                  # Flask backend
│
├── package.json            # React frontend dependencies
├── src/                    # React frontend source code
│   ├── App.js
│   └── ...
│
└── requirements.txt        # Python dependencies
```

---

## API Documentation

### Endpoints
1. **POST `/upload`**:
   - Upload an image for processing.
   - Request: `multipart/form-data` with a file field named `file`.
   - Response:
     ```json
     {
       "message": "Analysis complete",
       "output_image": "filename.png",
       "number_of_parts": 5,
       "bounding_boxes": [
         {"x": 10, "y": 20, "width": 100, "height": 50},
         ...
       ],
       "detected_objects": [
         {"label": "Window", "confidence": 0.95},
         ...
       ]
     }
     ```

2. **GET `/results/<filename>`**:
   - Retrieve a processed image.
   - Response: Image file.

---

## Troubleshooting

1. **Flask Server Not Starting**:
   - Ensure Python and Flask are installed correctly.
   - Check for port conflicts (e.g., another application using port 5000).

2. **React Build Not Working**:
   - Ensure Node.js and npm are installed.
   - Run `npm install` before building.

3. **Image Upload Fails**:
   - Ensure the file type is supported and the size is within the limit.
   - Check the browser console for errors.

---

## Future Enhancements
1. **Real Object Detection**:
   - Integrate a pre-trained deep learning model (e.g., YOLO, SSD) for accurate object detection.

2. **User Authentication**:
   - Add user authentication to track and save user uploads.

3. **Advanced Image Processing**:
   - Add more image processing techniques like noise reduction and edge detection.

4. **Deployment**:
   - Deploy the application using Docker or a cloud platform like AWS or Heroku.

---

## License
This project is licensed under the MIT License. See the [LICENSE](LICENSE) file for details.

---

Enjoy using the **Structure Analysis AI Application**! If you have any questions or feedback, feel free to open an issue or contact the developer.
